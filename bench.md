# About the performance

Benchmark runned on a non-modified Node-Red `v1.2.9` on w10

on an AMD r5 5600x, with 32GB of 3200MHz cl 16-18-18 memory

## 'Short' Function : no msg clone only 2 'function'
<details>
<summary> here's the flow used </summary>
```JSON
[{"id":"84cc5ffb.d21618","type":"inject","z":"d7d8ed0f.6ee418","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":180,"y":320,"wires":[["b8fec2a3.b96b6"]]},{"id":"3406b670.2976da","type":"function","z":"d7d8ed0f.6ee418","name":"random toto & titi","func":"msg.payload = {\n    toto: Math.random(),\n    titi: Math.random() + 1\n}\n\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":610,"y":320,"wires":[["b8fec2a3.b96b6"]]},{"id":"b8fec2a3.b96b6","type":"function","z":"d7d8ed0f.6ee418","name":"count msg/s","func":"this.count++;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"// Code added here will be run once\n// whenever the node is deployed.\nconst self = this;\n\nfunction resetCount () {\n    node.status({fill:\"green\",shape:\"dot\",text:\"\"+self.count});\n    self.count = 0;\n}\n\nthis.count = 0;\nthis.interval = setInterval(resetCount,1000);\n","finalize":"// Code added here will be run when the\n// node is being stopped or re-deployed.\n\nclearInterval(this.interval);","x":410,"y":320,"wires":[["3406b670.2976da"]]},{"id":"6d9143e3.2d1cbc","type":"function_vm","z":"d7d8ed0f.6ee418","name":"count msg/s","func":"this.count++;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"// Code added here will be run once\n// whenever the node is deployed.\nconst self = this;\n\nfunction resetCount () {\n    node.status({fill:\"green\",shape:\"dot\",text:\"\"+self.count});\n    self.count = 0;\n}\n\nthis.count = 0;\nthis.interval = setInterval(resetCount,1000);\n","finalize":"// Code added here will be run when the\n// node is being stopped or re-deployed.\n\nclearInterval(this.interval);","x":410,"y":220,"wires":[["513d0321.55f62c"]]},{"id":"513d0321.55f62c","type":"function_vm","z":"d7d8ed0f.6ee418","name":"random toto & titi","func":"msg.payload = {\n    toto: Math.random(),\n    titi: Math.random() + 1\n}\n\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":610,"y":220,"wires":[["6d9143e3.2d1cbc"]]},{"id":"4cfc7c59.704b0c","type":"function_unsafe","z":"d7d8ed0f.6ee418","name":"count msg/s","func":"this.count++;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"// Code added here will be run once\n// whenever the node is deployed.\nconst self = this;\n\nfunction resetCount () {\n    node.status({fill:\"green\",shape:\"dot\",text:\"\"+self.count});\n    self.count = 0;\n}\n\nthis.count = 0;\nthis.interval = setInterval(resetCount,1000);\n","finalize":"// Code added here will be run when the\n// node is being stopped or re-deployed.\n\nclearInterval(this.interval);","x":410,"y":120,"wires":[["993f8c54.31a218"]]},{"id":"993f8c54.31a218","type":"function_unsafe","z":"d7d8ed0f.6ee418","name":"random toto & titi","func":"msg.payload = {\n    toto: Math.random(),\n    titi: Math.random() + 1\n}\n\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":610,"y":120,"wires":[["4cfc7c59.704b0c"]]},{"id":"ba07dfe.3ec4aa","type":"inject","z":"d7d8ed0f.6ee418","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":180,"y":220,"wires":[["6d9143e3.2d1cbc"]]},{"id":"66425d0b.7f318c","type":"inject","z":"d7d8ed0f.6ee418","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":180,"y":120,"wires":[["4cfc7c59.704b0c"]]},{"id":"62c08981.c3f99","type":"comment","z":"d7d8ed0f.6ee418","name":"VM","info":"","x":150,"y":180,"wires":[]},{"id":"282535cd.a6cb9a","type":"comment","z":"d7d8ed0f.6ee418","name":"NR","info":"","x":150,"y":280,"wires":[]},{"id":"30da7afd.e21a8e","type":"comment","z":"d7d8ed0f.6ee418","name":"UNSAFE","info":"","x":160,"y":80,"wires":[]},{"id":"2572bc31.e6e4cc","type":"inject","z":"d7d8ed0f.6ee418","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":180,"y":420,"wires":[["9d33dfd6.55f158"]]},{"id":"8e462ba.15474d8","type":"comment","z":"d7d8ed0f.6ee418","name":"VM2","info":"","x":150,"y":380,"wires":[]},{"id":"9d33dfd6.55f158","type":"function_vm2","z":"d7d8ed0f.6ee418","name":"count msg/s","func":"this.count++;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"// Code added here will be run once\n// whenever the node is deployed.\nconst self = this;\n\nfunction resetCount () {\n    node.status({fill:\"green\",shape:\"dot\",text:\"\"+self.count});\n    self.count = 0;\n}\n\nthis.count = 0;\nthis.interval = setInterval(resetCount,1000);\n","finalize":"// Code added here will be run when the\n// node is being stopped or re-deployed.\n\nclearInterval(this.interval);","x":410,"y":420,"wires":[["c69f51fe.5861a"]]},{"id":"c69f51fe.5861a","type":"function_vm2","z":"d7d8ed0f.6ee418","name":"random toto & titi","func":"msg.payload = {\n    toto: Math.random(),\n    titi: Math.random() + 1\n}\n\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":610,"y":420,"wires":[["9d33dfd6.55f158"]]}]
```
</details>

| Implementation | Maximum msg/s reached |
|:--------------:|:---------------------:|
|custom Function-unsafe| ~275.000 msg/s |
|custom Function-vm| ~225.000 msg/s |
|Node-Red Function| ~40.000 msg/s |
|custom Function-vm2| ~4.600 msg/s |